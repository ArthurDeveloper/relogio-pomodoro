(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{16:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(4),i=n.n(c),o=n(6),s=n(7),a=n.n(s),r=(n(16),n(8)),l=(n(20),{hasPermission:!1,init:function(){var e=this;return Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Notification.requestPermission();case 2:if("granted"===t.sent){t.next=5;break}throw new Error("ERROR! Permission to access notifier denied");case 5:return e.hasPermission=!0,t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})))()},notify:function(e){var t=e.title,n=e.body,c=e.icon;this.hasPermission&&new Notification(t,{body:n,icon:c})}}),u=n(3),j=n(1),d=Object(j.createContext)({timer:null,setTimer:null,cycles:null,setCycles:null,restTime:null,setRestTime:null,longRestTime:null,setLongRestTime:null,inRest:null,setInRest:null,inLongRest:null,setInLongRest:null}),b=n(0);function m(e){var t=e.children,n=Object(j.useState)("00:00"),c=Object(u.a)(n,2),i=c[0],o=c[1],s=Object(j.useState)(0),a=Object(u.a)(s,2),r=a[0],l=a[1],m=Object(j.useState)("00:00"),f=Object(u.a)(m,2),O=f[0],p=f[1],v=Object(j.useState)("00:00"),h=Object(u.a)(v,2),g=h[0],x=h[1],R=Object(j.useState)(!0),y=Object(u.a)(R,2),I=y[0],T=y[1],S=Object(j.useState)(!1),w=Object(u.a)(S,2),L=w[0],C=w[1],E=Object(j.useState)(!1),k=Object(u.a)(E,2),P=k[0],A=k[1];return Object(b.jsx)(d.Provider,{value:{timer:i,setTimer:o,cycles:r,setCycles:l,restTime:O,setRestTime:p,longRestTime:g,setLongRestTime:x,inRest:I,setInRest:T,active:L,setActive:C,inLongRest:P,setInLongRest:A},children:t})}n(22);function f(){var e=Object(j.useContext)(d),t=e.timer,n=e.setTimer,c=e.cycles,i=e.setCycles,o=e.restTime,s=e.setRestTime,a=e.longRestTime,r=e.setLongRestTime,l=(e.inRest,e.setInRest,e.active,e.setActive);e.inLongRest,e.setInLongRest;return Object(b.jsxs)("form",{onSubmit:function(e){l(!0),e.preventDefault()},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{for:"cycles-count",children:"Ciclos: "}),Object(b.jsx)("input",{type:"number",id:"cycles-count",name:"cycles-count",value:c,onChange:function(e){i(e.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{for:"cycle-time",children:"Tempo de ciclo: "}),Object(b.jsx)("input",{type:"time",id:"cycle-time",value:t,onChange:function(e){n(e.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{for:"pause-time",children:"Tempo de descan\xe7o: "}),Object(b.jsx)("input",{type:"time",id:"pause-time",value:o,onChange:function(e){s(e.target.value)}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{for:"last-pause-time",children:"Descan\xe7o final: "}),Object(b.jsx)("input",{type:"time",id:"last-pause-time",value:a,onChange:function(e){r(e.target.value)}})]}),Object(b.jsx)("div",{style:{flexBasis:"100%",height:"30px"},children:Object(b.jsx)("button",{type:"submit",children:"Iniciar"})})]})}n(23);function O(){var e=Object(j.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(j.useContext)(d),o=i.timer,s=i.setTimer,a=i.cycles,r=i.setCycles,m=i.restTime,O=i.setRestTime,p=i.longRestTime,v=i.setLongRestTime,h=i.inRest,g=i.setInRest,x=i.active,R=i.setActive,y=i.inLongRest,I=i.setInLongRest,T=Object(j.useState)(o),S=Object(u.a)(T,2),w=S[0],L=S[1],C=Object(j.useState)(m),E=Object(u.a)(C,2),k=E[0],P=E[1],A=Object(j.useState)(p),D=Object(u.a)(A,2),N=D[0],q=D[1],H=w.split(":"),V=Object(u.a)(H,2),B=V[0],J=V[1],z=k.split(":"),F=Object(u.a)(z,2),M=F[0],U=F[1],G=N.split(":"),K=Object(u.a)(G,2),Q=K[0],W=K[1];return Object(j.useEffect)((function(){L(o)}),[o]),Object(j.useEffect)((function(){P(m)}),[m]),Object(j.useEffect)((function(){q(p)}),[p]),Object(j.useEffect)((function(){g(!1)}),[x]),Object(j.useEffect)((function(){x&&(h||y?h&&c(window.setInterval((function(){var e=[parseInt(M),parseInt(U)];M=e[0],U=e[1],"-1"===(--U).toString()&&(M--,U=59),M.toString().length<2&&(M="0"+M),U.toString().length<2&&(U="0"+U),P("".concat(M,":").concat(U))}),1e3)):c(window.setInterval((function(){var e=[parseInt(B),parseInt(J)];B=e[0],J=e[1],"-1"===(--J).toString()&&(B--,J=59),B.toString().length<2&&(B="0"+B),J.toString().length<2&&(J="0"+J),L("".concat(B,":").concat(J))}),1e3)))}),[x,h]),Object(j.useEffect)((function(){y&&c(window.setInterval((function(){var e=[parseInt(Q),parseInt(W)];Q=e[0],W=e[1],"-1"===(--W).toString()&&(Q--,W=59),Q.toString().length<2&&(Q="0"+Q),W.toString().length<2&&(W="0"+W),q("".concat(Q,":").concat(W))}),1e3))}),[y]),Object(j.useEffect)((function(){"-1"==B&&(l.notify({title:"Hora do descan\xe7o!",body:"Voc\xea ter\xe1 ".concat(m," minutos de descan\xe7o antes de voltar ao trabalho."),icon:null}),clearInterval(n),g(!h))}),[B]),Object(j.useEffect)((function(){if("-1"==M){if(clearInterval(n),r(a-1),1==a)return g(!1),I(!0),void l.notify({title:"Fim dos ciclos!",body:"Voc\xea completou todos os ciclos e pode descan\xe7ar por "+"".concat(p," minutos antes de come\xe7ar novamente."),icon:null});l.notify({title:"Hora de trabalhar!",body:"O seu descan\xe7o terminou. Hora de voltar ao trabalho!.",icon:null}),L(o),P(m),g(!h)}}),[M]),Object(j.useEffect)((function(){"-1"==Q&&(clearInterval(n),l.notify({title:"Pomodoro finalizado!",body:"O descan\xe7o final terminou. Voc\xea pode reiniciar o pomodoro se quiser.",icon:null}),R(!1),g(!1),I(!1),r(0),s("00:00"),O("00:00"),v("00:00"),g(!1))}),[Q]),Object(b.jsxs)("div",{id:"clock-settings",children:[Object(b.jsx)("h1",{id:"clock-title",children:"Rel\xf3gio pomodoro"}),Object(b.jsx)("h3",{id:"clock-how-to-use-advice",children:"Digite um tempo em minutos para o rel\xf3gio tocar um alarme."}),Object(b.jsx)(f,{}),Object(b.jsx)("div",{id:"clock-container",children:Object(b.jsx)("div",{id:"clock",children:h?k:y?N:w})})]})}function p(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)(r.a,{children:[Object(b.jsx)("title",{children:"Rel\xf3gio pomodoro"}),Object(b.jsx)("meta",{name:"keywords",content:"pomodoro, rel\xf3gio, estudos"}),Object(b.jsx)("meta",{name:"description",content:"Um rel\xf3gio para auxiliar no ciclo do pomodoro"})]}),Object(b.jsx)("div",{className:"centered",children:Object(b.jsx)(m,{children:Object(b.jsx)(O,{})})})]})}window.addEventListener("DOMContentLoaded",Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,alert("Aceite o envio de notifica\xe7\xf5es para o rel\xf3gio notific\xe1-lo quando voc\xea precisar descan\xe7ar ou voltar ao trabalho."),e.next=4,l.init();case 4:e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))),a.a.render(Object(b.jsx)(p,{}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.51020b79.chunk.js.map